{{ $episodes := .Site.Data.episodes }}
{{ if $episodes }}
  {{ range $episodes }}
    {{ $content := dict
      "mediaType" "text/markdown"
      "value" .description
    }}
    {{ $params := dict
      "duration" .duration_ms
      "preview" (index .images 0).url
      "audio_preview_url" .audio_preview_url
      "id" .id
    }}
    {{ $dates := dict "date" (time.AsTime .release_date) }}
    {{ $page := dict
      "content" $content
      "title" .name
      "slug" (urlize .name)
      "type" "podcasts"
      "path" (urlize .name)
      "params" $params
      "dates" $dates
    }}
    {{ $.AddPage $page }}
  {{ end }}
{{ else }}
  {{ warnf "No episodes found in data file." }}
{{ end }}
